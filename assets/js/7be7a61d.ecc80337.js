"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6570],{6573:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"index","title":"chess.js","description":"chess.js is a Javascript chess library that is used for chess move generation/validation,","source":"@site/versioned_docs/version-v0.1/index.md","sourceDirName":".","slug":"/","permalink":"/chess.js/v0.1/","draft":false,"unlisted":false,"tags":[],"version":"v0.1","frontMatter":{}}');var a=s(4848),c=s(8453);const i={},l="chess.js",h={},t=[{value:"Example Code",id:"example-code",level:2},{value:"API",id:"api",level:2},{value:"Constructor: Chess([ fen ])",id:"constructor-chess-fen-",level:3},{value:".load(fen)",id:"loadfen",level:3},{value:".reset()",id:"reset",level:3},{value:".fen()",id:"fen",level:3},{value:".info()",id:"info",level:3},{value:".pgn(options)",id:"pgnoptions",level:3},{value:".ascii()",id:"ascii",level:3},{value:".clear()",id:"clear",level:3},{value:".turn()",id:"turn",level:3},{value:".put(piece, square)",id:"putpiece-square",level:3},{value:".get(square)",id:"getsquare",level:3},{value:".remove(square)",id:"removesquare",level:3},{value:".move(move)",id:"movemove",level:3},{value:".undo()",id:"undo",level:3},{value:".moves([ options ])",id:"moves-options-",level:3},{value:".in_check()",id:"in_check",level:3},{value:".in_checkmate()",id:"in_checkmate",level:3},{value:".in_draw()",id:"in_draw",level:3},{value:".in_stalemate()",id:"in_stalemate",level:3},{value:".in_threefold_repetition()",id:"in_threefold_repetition",level:3},{value:".insufficient_material()",id:"insufficient_material",level:3},{value:".game_over()",id:"game_over",level:3},{value:".square_color(square)",id:"square_colorsquare",level:3},{value:"CONTRIBUTORS",id:"contributors",level:2},{value:"BUGS",id:"bugs",level:2},{value:"TODO",id:"todo",level:2}];function o(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"chessjs",children:"chess.js"})}),"\n",(0,a.jsx)(n.p,{children:"chess.js is a Javascript chess library that is used for chess move generation/validation,\npiece placement/movement, and check/checkmate/stalemate detection - basically everything\nbut the AI."}),"\n",(0,a.jsx)(n.p,{children:"Using chess.js in a browser is straight-forward:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'    <script type="text/javascript" src="chess.js"><\/script>\n    <script type="text/javascript">\n\n      var chess = new Chess();\n      ...\n\n    <\/script>\n'})}),"\n",(0,a.jsx)(n.p,{children:"Using chess.js in node.js is equally easy:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var ch = require('/chess.js')\n\n    var chess = new ch.Chess();\n    ...\n"})}),"\n",(0,a.jsx)(n.h2,{id:"example-code",children:"Example Code"}),"\n",(0,a.jsx)(n.p,{children:"The code below plays a complete game of chess ... randomly."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var sys = require('sys'),\n        ch =  require('./chess');\n\n    var chess = new ch.Chess();\n\n    while (!chess.game_over()) {\n      sys.puts('position: ' + chess.fen());\n      var moves = chess.moves();\n      var move = moves[Math.floor(Math.random() * moves.length)];\n      chess.move(move);\n      sys.puts('move: ' + move);\n    }\n"})}),"\n",(0,a.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,a.jsx)(n.h3,{id:"constructor-chess-fen-",children:"Constructor: Chess([ fen ])"}),"\n",(0,a.jsxs)(n.p,{children:["The Chess() constructor takes a optional parameter which specifies the board configuration\nin ",(0,a.jsx)(n.a,{href:"http://en.wikipedia.org/wiki/Forsyth%E2%80%93Edwards_Notation",children:"Forsyth-Edwards Notation"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    // board defaults to the starting position when called with no parameters\n    var chess = new Chess();\n\n    // pass in a FEN string to load a particular position\n    var chess = new Chess('r1k4r/p2nb1p1/2b4p/1p1n1p2/2PP4/3Q1NB1/1P3PPP/R5K1 b - c3 0 19');\n"})}),"\n",(0,a.jsx)(n.h3,{id:"loadfen",children:".load(fen)"}),"\n",(0,a.jsx)(n.p,{children:"The board is cleared and the FEN string is loaded.  Returns true if position was\nsuccessfully loaded, otherwise false."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess();\n    chess.load('4r3/8/2p2PPk/1p6/pP2p1R1/P1B5/2P2K2/3r4 w - - 1 45');\n    // -> true\n\n    chess.load('4r3/8/X12XPk/1p6/pP2p1R1/P1B5/2P2K2/3r4 w - - 1 45');\n    // -> false, bad piece X\n"})}),"\n",(0,a.jsx)(n.h3,{id:"reset",children:".reset()"}),"\n",(0,a.jsx)(n.p,{children:"Reset the board to the initial starting position."}),"\n",(0,a.jsx)(n.h3,{id:"fen",children:".fen()"}),"\n",(0,a.jsx)(n.p,{children:"Returns the FEN string for the current position."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess();\n\n    // make some moves\n    chess.move('e4');\n    chess.move('e5');\n    chess.move('f4');\n\n    chess.fen();\n    // -> 'rnbqkbnr/pppp1ppp/8/4p3/4PP2/8/PPPP2PP/RNBQKBNR b KQkq f3 0 2'\n"})}),"\n",(0,a.jsx)(n.h3,{id:"info",children:".info()"}),"\n",(0,a.jsx)(n.p,{children:"Allows header information to be added to PGN output. Any number of key/values\ncan be passed to .info(). See .pgn() for example."}),"\n",(0,a.jsx)(n.h3,{id:"pgnoptions",children:".pgn(options)"}),"\n",(0,a.jsx)(n.p,{children:"Returns the game in PGN format. Options is an object that can include\nmax width and/or a newline character."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:'    var chess = new Chess();\n    chess.info("White", "Plunky", "Black", "Plinkie");\n    chess.move(\'e4\');\n    chess.move(\'e5\');\n    chess.move(\'Nc3\');\n    chess.move(\'Nc6\');\n\n    chess.pgn({max_width:5, newline_char:"<br />"});\n    // -> \'[White "Plunky"]<br />[Black "Plinkie"]<br /><br />1. e4 e5<br />2. Nc3 Nc6\'\n'})}),"\n",(0,a.jsx)(n.h3,{id:"ascii",children:".ascii()"}),"\n",(0,a.jsx)(n.p,{children:"Returns a string containing an ASCII diagram of the current position."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess();\n\n    // make some moves\n    chess.move('e4');\n    chess.move('e5');\n    chess.move('f4');\n\n    chess.ascii();\n    // -> '   +------------------------+\n    //      8 | r  n  b  q  k  b  n  r |\n    //      7 | p  p  p  p  .  p  p  p |\n    //      6 | .  .  .  .  .  .  .  . |\n    //      5 | .  .  .  .  p  .  .  . |\n    //      4 | .  .  .  .  P  P  .  . |\n    //      3 | .  .  .  .  .  .  .  . |\n    //      2 | P  P  P  P  .  .  P  P |\n    //      1 | R  N  B  Q  K  B  N  R |\n    //        +------------------------+\n    //          a  b  c  d  e  f  g  h'\n"})}),"\n",(0,a.jsx)(n.h3,{id:"clear",children:".clear()"}),"\n",(0,a.jsx)(n.p,{children:"Clears the board."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    chess.clear();\n    chess.fen();\n    // -> '8/8/8/8/8/8/8/8 w - - 0 1' <- empty board\n"})}),"\n",(0,a.jsx)(n.h3,{id:"turn",children:".turn()"}),"\n",(0,a.jsx)(n.p,{children:"Returns the current side to move."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    chess.load('rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1')\n    chess.turn()\n    // -> 'b'\n"})}),"\n",(0,a.jsx)(n.h3,{id:"putpiece-square",children:".put(piece, square)"}),"\n",(0,a.jsx)(n.p,{children:"Place a piece on square where piece is an object with the form\n{ type: ..., color: ... }.  Returns true if piece was successfully placed,\notherwise false."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    chess.clear();\n\n    chess.put({ type: chess.PAWN, color: chess.BLACK }, 'a5') // put a black pawn on a5\n    // -> true\n    chess.put({ type: 'k', color: 'w' }, 'h1') // shorthand\n    // -> true\n\n    chess.fen();\n    // -> '8/8/8/p7/8/8/8/7K w - - 0 0'\n"})}),"\n",(0,a.jsx)(n.h3,{id:"getsquare",children:".get(square)"}),"\n",(0,a.jsx)(n.p,{children:"Returns the piece on the square:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    chess.clear();\n    chess.put({ type: chess.PAWN, color: chess.BLACK }, 'a5') // put a black pawn on a5\n\n    chess.get('a5');\n    // -> { type: 'p', color: 'b' },\n    chess.get('a6');\n    // -> null\n"})}),"\n",(0,a.jsx)(n.h3,{id:"removesquare",children:".remove(square)"}),"\n",(0,a.jsxs)(n.p,{children:["Remove and return the piece on ",(0,a.jsx)(n.em,{children:"square"}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    chess.clear();\n    chess.put({ type: chess.PAWN, color: chess.BLACK }, 'a5') // put a black pawn on a5\n    chess.put({ type: chess.KING, color: chess.WHITE }, 'h1') // put a white king on h1\n\n    chess.remove('a5');\n    // -> { type: 'p', color: 'b' },\n    chess.remove('h1');\n    // -> { type: 'k', color: 'w' },\n    chess.remove('e1');\n    // -> null\n"})}),"\n",(0,a.jsx)(n.h3,{id:"movemove",children:".move(move)"}),"\n",(0,a.jsx)(n.p,{children:"Attempts to make a move on the board, returning a move object if the move was\nlegal, otherwise null.  The .move function can be called two ways, by passing\na string in Standard Algebraic Notation (SAN):"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess();\n\n    chess.move('e4')\n    // -> { color: 'w', from: 'e2', to: 'e4', flags: 'b', piece: 'p', san: 'e2' }\n\n    chess.move('nf6') // SAN is case sensitive!!\n    // -> null\n\n    chess.move('Nf6')\n    // -> { color: 'b', from: 'g8', to: 'f6', flags: 'n', piece: 'n', san: 'Nf6' }\n"})}),"\n",(0,a.jsx)(n.p,{children:"Or by passing .move() a move object (only the 'to', 'from', and when necessary\n'promotion', fields are needed):"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess();\n\n    chess.move({from: 'g2', to: 'g3'});\n    // -> { color: 'w', from: 'g2', to: 'g3', flags: 'n', piece: 'p', san: 'g3' }\n"})}),"\n",(0,a.jsx)(n.h3,{id:"undo",children:".undo()"}),"\n",(0,a.jsx)(n.p,{children:"Takeback the last half-move, returning a move object if successful, otherwise null."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess();\n\n    chess.fen();\n    // -> 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1'\n    chess.move('e4');\n    chess.fen();\n    // -> 'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1'\n\n    chess.undo();\n    // -> { color: 'w', from: 'e2', to: 'e4', flags: 'b', piece: 'p', san: 'e4' }\n    chess.fen();\n    // -> 'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1'\n    chess.undo();\n    // -> null\n"})}),"\n",(0,a.jsx)(n.h3,{id:"moves-options-",children:".moves([ options ])"}),"\n",(0,a.jsx)(n.p,{children:"Returns a list of all legal moves from the current position.  The function be passed a options hash which controls the verbosity of the return values (this may change in the future)."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess();\n    chess.moves();\n    // -> ['a3', 'a4', 'b3', 'b4', 'c3', 'c4', 'd3', 'd4', 'e3', 'e4',\n    //     'f3', 'f4', 'g3', 'g4', 'h3', 'h4', 'Na3', 'Nc3', 'Nf3', 'Nh3']\n\n    chess.moves({ verbose: true });\n    // -> [{ color: 'w', from: 'a2', to: 'a3',\n    //       flags: 'n', piece: 'p', san 'a3'\n    //       # a captured: key is included when the move is a capture\n    //       # a promotion: key is included when the move is a promotion\n    //     },\n    //     ...\n    //     ]\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.em,{children:"piece"}),", ",(0,a.jsx)(n.em,{children:"captured"}),", and ",(0,a.jsx)(n.em,{children:"promotion"})," fields contain the lowercase\nrepresentation of the applicable piece."]}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.em,{children:"flags"})," field in verbose mode may contain one or more of the following values:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"'n' - a non-capture"}),"\n",(0,a.jsx)(n.li,{children:"'b' - a pawn push of two squares"}),"\n",(0,a.jsx)(n.li,{children:"'e' - an en passant capture"}),"\n",(0,a.jsx)(n.li,{children:"'c' - a standard capture"}),"\n",(0,a.jsx)(n.li,{children:"'p' - a promotion"}),"\n",(0,a.jsx)(n.li,{children:"'k' - kingside castling"}),"\n",(0,a.jsx)(n.li,{children:"'q' - queenside castling"}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"A flag of 'pc' would mean that a pawn captured a piece on the 8th rank and promoted."}),"\n",(0,a.jsx)(n.h3,{id:"in_check",children:".in_check()"}),"\n",(0,a.jsx)(n.p,{children:"Returns true or false if the side to move is in check."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess('rnb1kbnr/pppp1ppp/8/4p3/5PPq/8/PPPPP2P/RNBQKBNR w KQkq - 1 3');\n    chess.in_check();\n    // -> true\n"})}),"\n",(0,a.jsx)(n.h3,{id:"in_checkmate",children:".in_checkmate()"}),"\n",(0,a.jsx)(n.p,{children:"Returns true or false if the side to move has been checkmated."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess('rnb1kbnr/pppp1ppp/8/4p3/5PPq/8/PPPPP2P/RNBQKBNR w KQkq - 1 3');\n    chess.in_checkmate();\n    // -> true\n"})}),"\n",(0,a.jsx)(n.h3,{id:"in_draw",children:".in_draw()"}),"\n",(0,a.jsx)(n.p,{children:"Returns true or false if the game is drawn (50-move rule or insufficient material)."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess('4k3/4P3/4K3/8/8/8/8/8 b - - 0 78');\n    chess.in_draw();\n    // -> true\n"})}),"\n",(0,a.jsx)(n.h3,{id:"in_stalemate",children:".in_stalemate()"}),"\n",(0,a.jsx)(n.p,{children:"Returns true or false if the side to move has been stalemated."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess('4k3/4P3/4K3/8/8/8/8/8 b - - 0 78');\n    chess.in_stalemate();\n    // -> true\n"})}),"\n",(0,a.jsx)(n.h3,{id:"in_threefold_repetition",children:".in_threefold_repetition()"}),"\n",(0,a.jsx)(n.p,{children:"Returns true or false if the current board position has occurred three or more\ntimes."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1');\n    // -> true\n    // rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq occurs 1st time\n    chess.in_threefold_repetition();\n    // -> false\n\n    chess.move('Nf3'); chess.move('Nf6') chess.move('Ng1'); chess.move('Ng8');\n    // rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq occurs 2nd time\n    chess.in_threefold_repetition();\n    // -> false\n\n    chess.move('Nf3'); chess.move('Nf6') chess.move('Ng1'); chess.move('Ng8');\n    // rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq occurs 3rd time\n    chess.in_threefold_repetition();\n    // -> true\n"})}),"\n",(0,a.jsx)(n.h3,{id:"insufficient_material",children:".insufficient_material()"}),"\n",(0,a.jsx)(n.p,{children:"Returns true if the game is drawn due to insufficient material (K vs. K,\nK vs. KB, or K vs. KN); otherwise false."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess('k7/8/n7/8/8/8/8/7K b - - 0 1');\n    chess.insufficient_material()\n    // -> true\n"})}),"\n",(0,a.jsx)(n.h3,{id:"game_over",children:".game_over()"}),"\n",(0,a.jsx)(n.p,{children:"Returns true or false if the game has ended via checkmate, stalemate, or draw."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = new Chess();\n    chess.game_over();\n    // -> false\n\n    chess.load('4k3/4P3/4K3/8/8/8/8/8 b - - 0 78');\n    chess.game_over();\n    // -> true (stalemate)\n\n    chess.load('rnb1kbnr/pppp1ppp/8/4p3/5PPq/8/PPPPP2P/RNBQKBNR w KQkq - 1 3');\n    chess.game_over();\n    // -> true (checkmate)\n"})}),"\n",(0,a.jsx)(n.h3,{id:"square_colorsquare",children:".square_color(square)"}),"\n",(0,a.jsx)(n.p,{children:"Returns the color of the square ('light' or 'dark')."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"    var chess = Chess();\n    chess.square_color('h1')\n    // -> 'light'\n    chess.square_color('a7')\n    // -> 'dark'\n    chess.square_color('bogus square')\n    // -> null\n"})}),"\n",(0,a.jsx)(n.h2,{id:"contributors",children:"CONTRIBUTORS"}),"\n",(0,a.jsx)(n.p,{children:"Special thanks to the following developers for their patches and contributions:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/2sb18",children:"Steve Bragg"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"https://github.com/azer",children:"E. Azer Ko\xe7ulu"})}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Musical support provided by:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"http://www.youtube.com/watch?v=YLzUme1gN8c",children:"The Grateful Dead"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"http://www.youtube.com/watch?v=jh-1fFWkSdw",children:"Umphrey's McGee"})}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"bugs",children:"BUGS"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"the en passant square and castling flags aren't adjusted when using the put/remove functions (workaround: use .load() instead)"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"todo",children:"TODO"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"add method to input PGN"}),"\n",(0,a.jsx)(n.li,{children:"add AI (basic alpha-beta search w/ primitive position evaluation)"}),"\n",(0,a.jsx)(n.li,{children:"add jQuery chessboard widget"}),"\n",(0,a.jsx)(n.li,{children:"investigate the use of piece lists (this may shave a few cycles off generate_moves() and attacked())"}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var r=s(6540);const a={},c=r.createContext(a);function i(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);